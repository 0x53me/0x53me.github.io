<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">

        <title>新居浜高専 寮食 今月の献立</title>
        <!--ファビコン-->
        <link rel="icon" type="image/png" href="images/bacon.png">
        <!--Fonts-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
        <style>
            table th, table td{
                border: solid 1px black;
            }
        </style>
        <script>
            async function loadCSV() {
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth()+1;
            const date = today.getDate();
            const h1 = year + "年" + month + "月";
            let file_date = "csv/DB_" + year + "_" + month + ".csv";
            const data = await fetch(file_date);
            const resCSV = await data.text();
            const dataCSV = resCSV.trim().split(/\r\n|\n/).map(line => line.split(','));
            const filteredData = dataCSV.filter(row => row[1]==date);
            const htmlData = dataCSV.map(data => `<tr>
                                                    <!--<th>${data[0]}</th>-->
                                                    <td>${data[1]}</td>
                                                    <td>${data[2]}</td>
                                                    <td>${data[3]}</td>
                                                    <td>${data[4]}</td>
                                                    <td>${data[5]}</td>
                                                    <td>${data[6]}</td>
                                                    <td>${data[7]}</td>
                                                    <td>${data[8]}</td>
                                                    <td>${data[9]}</td>
                                                    <td>${data[10]}</td>
                                                    <td>${data[11]}</td>
                                                </tr>`).join('');
            document.getElementById('tableCSV').insertAdjacentHTML('beforeend',htmlData);
            document.getElementById('h1tag').insertAdjacentHTML('beforeend',h1);
            }
            loadCSV();
        </script>
                    <link rel="stylesheet" href="css/style.css">
    </head>

    <body>
        <div class="cover cover-home">
        <!--header-->
        <header class="header">
            <h1 style="font-family: Kosugi Maru,serif;"><a href="index.html"><img class="logo" src="images/gohan.png" alt="Home"></a> 新居浜高専学寮食堂(非公式)</h1>
            <nav class="nav">
                <span class="nav_toggle">
                    <i></i><i></i><i></i>
                </span>
                <ul class="nav_menu_ul">
                    <li class="nav_menu_li"><a href="/">Home</a></li>
                    <li class="nav_menu_li"><a href="/News.html">News</a></li>
                    <li class="nav_menu_li"><a href="/Version.html">Version</a></li>
                    <li class="nav_menu_li"><a href="/Archive.html">Archive</a></li>
                </ul>
            </nav>
        </header>
            <!--content-->
            </div>
        <h2 id="h1tag"></h2>
        <table id="tableCSV">
            <tr>
             <!--<th></th>-->
             <th>日付</th>
             <th>朝食1</th>
             <th>朝食2</th>
             <th>朝食3</th>
             <th>昼食1</th>
             <th>昼食2</th>
             <th>夕食1</th>
             <th>夕食2</th>
             <th>夕食3</th>
             <th></th>
             <th>備考</th>
             </tr>
        </table>
        <!--footer-->
        <footer class="footer">
            <div class="copyright">
                <small>&copy;2025 0x53me</small>
            </div>
        </footer>
    </body>
</html>